(function(){'use strict';var vm=new Vue({el:'#mail-subscription',data:{'isValidEmail':false,'isInvalidEmail':false,'errorMessage':'','successMessage':''},methods:{subscribe:function(lang){var data=this.$data;var challenge=function(){var dfd=jQuery.Deferred();jQuery.ajax({url:'/2015/'+ lang+'/api/mail/subscription',type:'POST',data:{email:data.emailAddress},success:dfd.resolve,error:dfd.reject}).done(function(){dfd.resolve();}).fail(function(){dfd.reject();});return dfd.promise();};challenge().done(function(res){if(res.status===200){data.isValidEmail=true;data.isInvalidEmail=false;data.successMessage=res.message;}
else{data.isValidEmail=false;data.isInvalidEmail=true;data.errorMessage=res.message;}}).fail(function(){data.errorMessage='Internal Server Error';});}}});return vm;}());